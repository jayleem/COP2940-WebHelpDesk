<div *ngIf="issues$" class="row justify-content-center">
    <h6 *ngIf="errors" class="text-center alert alert-danger bg-danger text-white border-danger rounded-0 w-100"
        role="alert">{{errors}}</h6>
    <div class="mt-5 col-xs-12 col-sm-10 col-md-8">
        <h4>Bug Tracker</h4>
        <h4>Updating Issue: ID#{{id}}</h4>
        <form [formGroup]="updateIssueForm" (ngSubmit)="updateIssueForm.valid && onSubmit()">
            <div formGroupName="issueData">
                <div class="form-group">
                    <label for="tech">Assigned Technician<span class="ml-1 text-danger">*</span></label>
                    <select class="form-control" name="tech" id="tech" formControlName="tech">
                        <option *ngFor="let tech of techs$" [ngValue]="tech.username">
                            {{tech.username}}
                        </option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="status">Status<span class="ml-1 text-danger">*</span></label>
                    <select name="status" id="status" formControlName="status" class="form-control">
                        <option value="Open">Open</option>
                        <option value="Pending">Pending</option>
                        <option value="Closed">Closed</option>
                    </select>
                    <span
                        *ngIf="!updateIssueForm.get('issueData.status').valid && updateIssueForm.get('issueData.status').touched"
                        class="help-block">
                        <span *ngIf="updateIssueForm.get('issueData.status').errors['required']">This field is
                            required!</span>
                    </span>
                </div>
                <div class="form-group">
                    <label for="priority">Priority<span class="ml-1 text-danger">*</span></label>
                    <select name="priority" id="priority" formControlName="priority" class="form-control">
                        <option value="Low">Low</option>
                        <option value="Normal">Normal</option>
                        <option value="High">High</option>
                        <option value="Urgent">Urgent</option>
                    </select>
                    <span
                        *ngIf="!updateIssueForm.get('issueData.priority').valid && updateIssueForm.get('issueData.priority').touched"
                        class="help-block">
                        <span *ngIf="updateIssueForm.get('issueData.priority').errors['required']">This field is
                            required!</span>
                    </span>
                </div>
                <div class="form-group">
                    <label for="escalate">Escalate<span class="ml-1 text-danger">*</span></label>
                    <select name="escalate" id="escalate" formControlName="escalate" class="form-control">
                        <option value="0">No</option>
                        <option value="1">Yes</option>
                    </select>
                    <span
                        *ngIf="!updateIssueForm.get('issueData.escalate').valid && updateIssueForm.get('issueData.priority').touched"
                        class="help-block">
                        <span *ngIf="updateIssueForm.get('issueData.escalate').errors['required']">This field is
                            required!</span>
                    </span>
                </div>
                <div class="form-group">
                    <label for="notes">Add Notes:</label>
                    <textarea name="notes" id="notes" cols="30" rows="10" formControlName="notes"
                        class="form-control"> </textarea>
                </div>
            </div>
            <button class="btn w-25 mr-2" type="submit">Save</button>
            <a class="btn w-25" routerLink="/dashboard/home">Cancel</a>
        </form>
    </div>
</div>